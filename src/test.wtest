import campeones.*
import items.*
import minions.*

describe "liga de campeones" {

//Parte 1

	var campeon1 = new Campeon(puntosDeVida = 50, puntosDeAtaque = 15, dinero = 20)
	var anilloDeDoran = new AnilloDeDoran()
	var tomoAmplificador = new TomoAmplificador(utilizoHabilidad= false)
	var oleadaDeMinions = new OleadaDeMinions()
	
	
//Parte 2

	var campeon2 = new Campeon(puntosDeVida = 50, puntosDeAtaque = 15, dinero= 231)
	var oleadaDeMinions2 = new OleadaDeMinions(cantidadDeMinions=10, plusDeAtaque=25)
	var tomoAmplificador2 = new TomoAmplificador()

//Parte 3 baston del vacio
    
    var campeon3 = new Campeon(puntosDeVida = 50, puntosDeAtaque = 15, dinero = 800)
    var anilloDeDoran1 = new AnilloDeDoran()
    var anilloDeDoran2 = new AnilloDeDoran()
    var pocionDeVida = new PocionDeVida()
    var sombrero = new SombreroDeRabadon(utilizoHabilidad = false)
    var bastonDelVacio = new BastonDelVacio(materiales = [pocionDeVida,sombrero])
  

// Parte 3 Soporte
	
	var draven = new Campeon(puntosDeVida = 150, puntosDeAtaque = 25, dinero = 1000)
	var maokai = new Campeon(puntosDeVida = 150, puntosDeAtaque = 25, dinero = 1000)
	var janna = new Soporte(puntosDeVida = 150, puntosDeAtaque = 25, dinero = 100, campeonVinculado = draven)
    var oleadaDeMinions3 = new OleadaDeMinions(cantidadDeMinions = 100, plusDeAtaque = 0)
    
	fixture {
		
		//Parte 1
		campeon1.equipar(anilloDeDoran)
		campeon1.equipar(tomoAmplificador)
	 	oleadaDeMinions.cantidadDeMinions(10)
		oleadaDeMinions.plusDeAtaque(25)
		
		//Parte 2
		
		campeon2.equipar(anilloDeDoran)
		campeon2.equipar(tomoAmplificador)
		
		//Parte 3
		campeon3.comprar(anilloDeDoran1)
		campeon3.comprar(anilloDeDoran2)
		campeon3.equipar(anilloDeDoran1)
		campeon3.equipar(anilloDeDoran2)
		campeon3.comprar(bastonDelVacio)
		campeon3.equipar(bastonDelVacio)
		bastonDelVacio.habilidadActivable(campeon3)
	}

	test "test parte 1" {
		campeon1.atacarOleada(oleadaDeMinions)
		campeon1.atacarOleada(oleadaDeMinions)
		campeon1.atacarOleada(oleadaDeMinions)
		campeon1.desequipar(tomoAmplificador)
		campeon1.desequipar(anilloDeDoran)
		assert.notThat(campeon1.estaVivo())
	}
	
	test "test parte 2" {
		
		campeon2.atacarOleada(oleadaDeMinions2)
		campeon2.atacarOleada(oleadaDeMinions2)
		campeon2.atacarOleada(oleadaDeMinions2)
		campeon2.desequipar(anilloDeDoran)
		campeon2.desequipar(tomoAmplificador)
		campeon2.equipar(tomoAmplificador2)
		campeon2.desequipar(tomoAmplificador2)
		assert.notThat(campeon2.estaVivo())
		
	}
	
	test "sumar dinero de minions"{
		campeon1.atacarOleada(oleadaDeMinions2)
		assert.equals(30, campeon1.dinero())
		
	}
	
	test "habilidad en item "{
		
		tomoAmplificador.habilidadActivable(campeon1)
		assert.equals(500, campeon1.dinero())
	}	
	
	test "campeon con 0 de da√±o recibido" {
		assert.equals(0,campeon3.danioRecibido())
	}	 
	
	test "campeon con 500 de dinero " {
		assert.equals(500,campeon3.dinero())	
	}
	
	test "soporte"{
		janna.campeonVinculado(draven)
		draven.atacarOleada(oleadaDeMinions3)
		janna.atacarOleada(oleadaDeMinions3)
		janna.campeonVinculado(maokai)
		maokai.atacarOleada(oleadaDeMinions3)
		janna.atacarOleada(oleadaDeMinions3)
		maokai.comprar(tomoAmplificador)
		janna.comprar(pocionDeVida)
		assert.that(oleadaDeMinions3.estanMuertos())
		assert.equals(90,draven.danioRecibido())
		assert.equals(40,maokai.danioRecibido())
		assert.equals(525,maokai.dinero())
		assert.equals(100,janna.danioRecibido())
		assert.that(janna.inventario().contains(pocionDeVida))
		assert.that(janna.inventario().contains(tomoAmplificador))
	}
	
}

